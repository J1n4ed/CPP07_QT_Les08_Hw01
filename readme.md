# Урок 8, Работа с БД

Инструкция к заданию

- Скачать проект с прекодом 08_PreDataBase.
- Добавить в CmakeList.txt модуль для работы с БД.
- Подключить в CmakeList.txt библиотеки из папки PG_Libs к проекту.
- Заменить на главной форме виджет QTableWidget, на необходимый для выполнения задания.
- Изменить существующие или добавить новые методы, необходимые для выполнения задания.
- Допускается добавить данные для подключения в конструктор DbData.

## Данные для подключения к БД

- Имя хоста: 981757-ca08998.tmweb.ru
- Имя БД: netology_cpp
- Порт: 5432
- Логин: netology_usr_cpp
- Пароль: CppNeto3

## Описание таблицы БД

Для выполнения работы необходимо получить данные из таблицы под названием "film", которая состояит из 14 столбцов:

- film_id - ИД записи;
- title - название фильма;
- description - описание фильма;
- release_year - год выпуска;
- language_id - язык фильма, внешний ключ(ВК)
- original_language_id - оригинальный язык фильма, ВК
- rental_duration - доступная продолжительность аренды фильма, дней;
- rental_rate - цена в $ за день;
- length - продолжительность фильма, мин;
- replacement_cost - цена замены фильма;
- rating - возрастной рейтинг фильма;
- last_update - служебная информация, последнее одновление записи;
- special_features - дополнительные особенности фильма;
- fulltext - ключевые слова для поиска фильма.

Для получения категорий фильмов можн опользоваться запросом
```
SELECT title, description FROM film f JOIN film_category fc on f.film_id = fc.film_id JOIN category c on c.category_id = fc.category_id WHERE c.name = 'Comedy' ('Horror')
```

## Задание 1

- Реализовать получение всех фильмов(в фильтре на главной форме выбрано значение "все" ) из БД при помощи объекта класса QSqlTableModel.
- Необходимо реализовать получение комедий и ужасов из БД при помощи объекта класса QSqlQueryModel.
- В таблице на главной форме должны отображаться:
1. Столбцы "Название фильма" и "Описание фильма".
2. Присутствовать заголовки столбцов.
- При нажатии на кнопку "Очистить" таблица должна очищаться.

## Дополнительное задание

Вместо предложенной формы подключения к БД добавьте в проект собственную форму, разработанную в домашнем задании по теме "Виджеты".

CPP-07
07.10.2023
[@J1n4ed](https://github.com/J1n4ed)
